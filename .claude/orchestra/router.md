# 任務路由決策樹

## Step 1: 判斷意圖類型

用戶輸入 → 分類為以下之一：
- `new_feature`：新功能開發
- `bug_fix`：修復問題
- `refactor`：重構優化
- `question`：技術諮詢（不需要團隊，直接回答）
- `config`：系統設定調整
- `continue`：繼續上次未完成的工作
- `switch`：切換到其他專案

## Step 2: 判斷規模

| 信號 | 規模判定 |
|------|---------|
| ≤3 檔案 + 無新依賴 + 無需 spec + 目標明確 + 無跨模塊影響（全部滿足） | 微型 |
| 涉及單一功能模塊 | 小型 |
| 涉及多個模塊、需要前後端配合 | 中型 |
| 涉及系統架構、多個子系統、需要 spec | 大型 |

## Step 3: 路由到對應流程

| 意圖 × 規模 | 流程 |
|-------------|------|
| 任意 × 微型 | 路由 E（直接執行） |
| new_feature × 小型 | 路由 A（簡化版） |
| new_feature × 中/大型 | 路由 A（完整版） |
| bug_fix × 任意 | 路由 A 或 E（視複雜度） |
| continue × 任意 | 路由 B |
